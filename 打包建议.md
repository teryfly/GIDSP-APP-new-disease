如果你的项目中引入了PWA相关的依赖（如@dhis2/app-runtime的某些功能），需要移除或禁用它们。检查并移除以下内容：

Service Worker注册代码
PWA manifest引用
任何offline-interface相关的导入

完整构建和打包流程
bash# 1. 确保manifest.webapp在项目根目录
# 2. 安装依赖（如果还没有）
npm install

# 3. 构建项目
npm run build

# 4. 手动复制manifest.webapp到build目录（如果脚本失败）
cp manifest.webapp build/

# 5. 验证build目录结构
ls build/
# 应该看到：
# - index.html
# - manifest.webapp
# - assets/
# - logo.svg (如果有)

# 6. 创建ZIP包
cd build
zip -r ../dhis2-app.zip ./*

# 或使用Windows PowerShell：
# Compress-Archive -Path * -DestinationPath ..\dhis2-app.zip -Force

# 7. 返回项目根目录
cd ..
验证清单（上传前必查）

✅ 解压ZIP文件，确保根目录有：

manifest.webapp
index.html
assets/ 文件夹


✅ 打开index.html，确认没有import.meta相关代码
✅ 检查所有JS文件都已完全编译（没有ES模块语法）
✅ 使用HashRouter而不是BrowserRouter
✅ manifest.webapp中的launch_path是index.html不是/index.html

关键改动说明

Router改用HashRouter：避免与DHIS2的URL路径冲突
Vite配置target: es2015：确保代码完全编译，移除import.meta
dhis2Client自动检测环境：在DHIS2中自动使用相对路径和session认证
manifest.webapp：提供应用元数据给DHIS2

按这些步骤重新构建和打包，应该可以解决所有问题！如果还有错误，请分享新的错误信息。
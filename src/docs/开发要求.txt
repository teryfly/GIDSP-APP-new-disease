# 不明原因疾病管理功能开发要求

## 1. 功能要求

### 1.1 不明原因病例列表功能

#### 1.1.1 业务流程
1. [已完成] 用户登录系统，进入"不明原因疾病管理"模块
2. [已完成] 展示不明原因病例列表，支持筛选和分页
3. [待完善] 支持查看不明原因病例详情

#### 1.1.2 页面要求
- [已完成] 顶部筛选区域：病例编号、患者姓名、报告日期范围、病例状态
- [已完成] 操作按钮：新增病例、导出Excel
- [已完成] 病例列表表格：病例编号、患者姓名、报告日期、病例状态、紧急度、操作按钮
- [已完成] 分页控件：支持页码跳转和每页记录数设置

#### 1.1.3 交互要求
- [已完成] 筛选条件支持实时查询和重置
- [已完成] 表格支持列排序
- [已完成] 点击行可选中，双击行进入详情页
- [已完成] 悬停显示完整信息（Tooltip）
- [已完成] 状态用颜色标识：🟡待检测 🔵检测中 🟢已确诊 ⚪已排除
- [已完成] 紧急度用颜色标识：🔴高 🟡中 🟢低

### 1.2 不明原因病例查看编辑功能

#### 1.2.1 业务流程
1. [已完成] 用户登录系统，进入"不明原因疾病管理"模块
2. [已完成] 在病例列表中选择某个不明原因病例查看详情
3. [待完成] 查看病例详细信息，包括：
   - [待完成] 基本信息（患者信息、报告信息、症状信息）
   - [待完成] 临床症状信息
   - [待完成] 检测记录列表
   - [待完成] 推送记录
4. [待完成] 支持编辑病例基本信息
5. [待完善] 支持新增/编辑检测记录
6. [待完成] 支持上报应急响应系统
7. [待完成] 支持推送至个案管理

#### 1.2.2 页面要求

##### 1.2.2.1 病例详情页布局
- [待完成] 顶部：病例摘要信息（病例编号、状态、患者姓名、确诊疾病、报告日期、确诊日期）
- [待完成] 操作按钮：编辑、推送至个案管理、上报应急、返回列表
- [待完善] Tab导航：基本信息、临床症状、检测记录、推送记录
- [待完成] 主内容区：显示当前选中Tab的内容

##### 1.2.2.2 基本信息Tab
- [待完成] 患者基本信息展示（姓名、性别、年龄、身份证号、联系电话、现住址）
- [待完成] 病例信息展示（报告单位、报告日期、症状开始日期、病例状态、确诊疾病、确诊日期、疑似病原体）

##### 1.2.2.3 临床症状Tab
- [待完成] 临床症状详细信息展示

##### 1.2.2.4 检测记录Tab
- [待完成] 检测记录列表，按时间倒序排列
- [待完成] 每条记录显示：检测编号、检测类型、采集时间、样本类型、检测结果、检测状态、病原体、检测机构
- [待完成] 支持新增检测记录
- [待完成] 支持编辑已有检测记录

##### 1.2.2.5 推送记录Tab
- [待完成] 推送记录列表，按时间倒序排列
- [待完成] 每条记录显示：操作时间、操作人员、操作类型、操作内容

#### 1.2.3 交互要求
- [ 完成] Tab切换时动态加载对应内容
- [待完成] 支持在详情页直接新增检测记录
- [待完成] 编辑操作需有明确的保存和取消按钮
- [待完成] 删除操作需二次确认
- [待完成] 上报应急系统需二次确认
- [待完成] 推送至个案管理需二次确认
- [待完成] 所有操作需有明确的成功/失败提示

### 1.3 病例推送流程功能

#### 1.3.1 业务流程
1. [待完成] 当不明原因病例状态为"已确诊"时，显示"推送至个案管理"按钮
2. [待完成] 用户点击"推送至个案管理"按钮
3. [待完成] 显示推送确认对话框，展示推送信息和影响
4. [待完成] 用户确认推送操作
5. [待完成] 执行推送流程：
   - [待完成] 数据校验完成
   - [待完成] 创建个案记录完成
   - [待完成] 复制检测记录完成
   - [待完成] 推送至应急指挥系统
   - [待完成] 推送至流调系统
   - [待完成] 更新病例状态为"已推送"
6. [待完成] 显示推送成功提示，提供后续操作入口

#### 1.3.2 交互要求
- [待完成] 推送前二次确认
- [待完成] 推送过程可视化进度提示
- [待完成] 推送失败自动重试
- [待完成] 提供推送日志查询
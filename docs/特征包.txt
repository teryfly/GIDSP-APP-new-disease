ä¸€ï¼šä¸ªæ¡ˆç®¡ç†æ¶æ„è®¾è®¡
- **ä¸ªæ¡ˆç®¡ç†** (å·²çŸ¥ç–¾ç—…): ç®¡ç†å·²ç¡®è®¤çš„æ£€ç–«ä¼ æŸ“ç—…ä¸ªæ¡ˆ â†’ å¯æ¨é€è‡³å®éªŒå®¤æ£€æµ‹ä¿¡æ¯ç®¡ç†æˆ–æµè°ƒç³»ç»Ÿ
---
### ç”¨ä¾‹å›¾-æ€»å›¾

```
@startuml
title æ–°å‘ä¼ æŸ“ç—…ç›‘æµ‹ç®¡ç†ç³»ç»Ÿ - ç”¨ä¾‹å›¾

rectangle "æ–°å‘ä¼ æŸ“ç—…ç›‘æµ‹ç®¡ç†ç³»ç»Ÿ" {

  ' ===== ä¸ªæ¡ˆç®¡ç†(å·²çŸ¥ç–¾ç—…) =====
  package "ä¸ªæ¡ˆç®¡ç†\n(å·²çŸ¥æ£€ç–«ä¼ æŸ“ç—…)" #LightGreen {
    usecase "UC04\nç®¡ç†ä¸ªæ¡ˆè°ƒæŸ¥è¡¨" as UC04
    usecase "UC05\nç®¡ç†éšè®¿ä¿¡æ¯" as UC05
    usecase "UC06\nç®¡ç†æ²»ç–—ä¿¡æ¯" as UC06
    usecase "UC07\nç®¡ç†ç—…ä¾‹æ£€æµ‹" as UC07
    usecase "UC08\nç®¡ç†ç—…ä¾‹è¿½è¸ª" as UC08
  }
}

' ===== ç–¾æ§ä¸šåŠ¡äººå‘˜å…³ç³» =====
User --> UC04

' ===== å¤–éƒ¨ç³»ç»Ÿäº¤äº’ =====
UC04 -right-> EpiSys : æ¨é€æµè°ƒ

' ===== ç”¨ä¾‹åŒ…å«å…³ç³»(è®¤è¯) =====
UC04 ..> UC19 : <<include>>
```

## ç”¨ä¾‹æ¸…å•

| ç”¨ä¾‹ç¼–å·                       | ç”¨ä¾‹åç§°             | ä¸»è¦å‚ä¸è€…              | å¤–éƒ¨ç³»ç»Ÿäº¤äº’          |
| ------------------------------ | -------------------- | ----------------------- | --------------------- |
| **ä¸ªæ¡ˆç®¡ç†(å·²çŸ¥ç–¾ç—…)**         |                      |                         |                       |
| UC04                           | ç®¡ç†ä¸ªæ¡ˆè°ƒæŸ¥è¡¨       | ç–¾æ§ä¸šåŠ¡äººå‘˜            | æµè°ƒç³»ç»Ÿ              |
---

#### Activity-1.2-ä¸ªæ¡ˆè°ƒæŸ¥è¡¨ç®¡ç†æµç¨‹ (UC04)

```
@startuml
title ä¸ªæ¡ˆè°ƒæŸ¥è¡¨ç®¡ç†æµç¨‹ï¼ˆUC04ï¼‰æ´»åŠ¨å›¾ v1.0

|ç–¾æ§ä¸šåŠ¡äººå‘˜|
start
:ç™»å½•ç³»ç»Ÿï¼ˆå•ç‚¹è®¤è¯ï¼‰;
:è¿›å…¥â€œä¸ªæ¡ˆç®¡ç†â€æ¨¡å—;
:é€‰æ‹©ç–¾ç—…ç±»å‹æˆ–ä¸ªæ¡ˆæ¥æº;
:ç‚¹å‡»â€œä¸ªæ¡ˆè°ƒæŸ¥è¡¨ç®¡ç†â€;

:æŸ¥çœ‹ä¸ªæ¡ˆåˆ—è¡¨;
if (æ˜¯å¦æ–°å¢ä¸ªæ¡ˆ?) then (æ˜¯)
  :ç‚¹å‡»â€œæ–°å¢ä¸ªæ¡ˆâ€;
  :å¡«å†™åŸºæœ¬ä¿¡æ¯ï¼ˆå§“åã€æ€§åˆ«ã€å¹´é¾„ã€æŠ¥å‘Šå•ä½ã€ç—‡çŠ¶èµ·å§‹æ—¶é—´ç­‰ï¼‰;
  :å¡«å†™æµè¡Œç—…å­¦ä¿¡æ¯ï¼ˆæš´éœ²å²ã€æ¥è§¦å²ã€æ—…è¡Œå²ç­‰ï¼‰;
  :å¡«å†™åˆæ­¥è¯Šæ–­ä¿¡æ¯;
  :æäº¤ä¿å­˜è¯·æ±‚;
else (å¦)
  :é€‰æ‹©æ—¢æœ‰ä¸ªæ¡ˆ;
  if (æ˜¯å¦ç¼–è¾‘?) then (æ˜¯)
    :ä¿®æ”¹ä¸ªæ¡ˆè°ƒæŸ¥è¡¨ä¿¡æ¯;
    :æäº¤æ›´æ–°è¯·æ±‚;
  else (å¦)
    if (æ˜¯å¦åˆ é™¤?) then (æ˜¯)
      :ç¡®è®¤åˆ é™¤æ“ä½œ;
      :æäº¤åˆ é™¤è¯·æ±‚;
    else (å¦)
      :æŸ¥çœ‹ä¸ªæ¡ˆè¯¦ç»†ä¿¡æ¯;
    endif
  endif
endif

|ç³»ç»Ÿ|
:éªŒè¯ç”¨æˆ·æƒé™ï¼ˆinclude: å•ç‚¹ç™»å½•è®¤è¯ï¼‰;
:æ£€æŸ¥è¡¨å•æ•°æ®å®Œæ•´æ€§ä¸å¿…å¡«å­—æ®µ;
if (æ•°æ®æ ¡éªŒé€šè¿‡?) then (æ˜¯)
  :å†™å…¥æˆ–æ›´æ–°ä¸ªæ¡ˆæ•°æ®åº“è®°å½•;
  :ç”Ÿæˆä¸ªæ¡ˆç¼–å·;
  :è¿”å›æ“ä½œæˆåŠŸæ¶ˆæ¯;
else (å¦)
  :è¿”å›é”™è¯¯æç¤ºï¼ˆç¼ºå¤±å­—æ®µæˆ–æ ¼å¼é”™è¯¯ï¼‰;
endif

|ç–¾æ§ä¸šåŠ¡äººå‘˜|
:æŸ¥çœ‹æ“ä½œç»“æœæç¤º;

if (æ˜¯å¦éœ€è¦æ¨é€æµè°ƒç³»ç»Ÿ?) then (æ˜¯)
  |ç³»ç»Ÿ|
  :å°è£…ä¸ªæ¡ˆæ•°æ®åŒ…;
  :è°ƒç”¨â€œæµè°ƒç³»ç»Ÿâ€æ¥å£;
  |æµè°ƒç³»ç»Ÿ|
  :æ¥æ”¶å¹¶ç¡®è®¤ä¸ªæ¡ˆæ•°æ®;
  |ç³»ç»Ÿ|
  :è®°å½•æ¨é€çŠ¶æ€ä¸æ—¶é—´æˆ³;
  |ç–¾æ§ä¸šåŠ¡äººå‘˜|
  :æŸ¥çœ‹æ¨é€ç»“æœ;
endif

stop
@enduml
```

äºŒï¼šä¸ªæ¡ˆç®¡ç†ç”¨æˆ·æ•…äº‹
---
### ç”¨æˆ·æ•…äº‹æ€»ç»“è¡¨

| ç¼–å·   | ç”¨æˆ·æ•…äº‹                 | å…³è”ç”¨ä¾‹   | ä¼˜å…ˆçº§ | å¤æ‚åº¦ |
| ------ | ------------------------ | ---------- | ------ | ------ |
| US-4.1 | ç®¡ç†ä¸æ˜åŸå› ç—…ä¾‹         | UC09       | é«˜     | é«˜     |
| US-4.2 | å½•å…¥ä¸æ˜åŸå› ç—…ä¾‹æ£€æµ‹ä¿¡æ¯ | UC11       | é«˜     | ä¸­     |
| US-4.3 | æ¨é€ç¡®è¯Šç—…ä¾‹è‡³ä¸ªæ¡ˆç®¡ç†   | UC10       | é«˜     | é«˜     |
---

### ä¸æ˜åŸå› ç–¾ç—…ç®¡ç†æ¨¡å—ï¼ˆæ–°å‘ç–¾ç—…ï¼‰

#### US-4.1 ç®¡ç†ä¸æ˜åŸå› ç—…ä¾‹

**ç”¨æˆ·æ•…äº‹ï¼š**
ä½œä¸ºä¸€åç–¾æ§ä¸šåŠ¡äººå‘˜ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿç®¡ç†æœªçŸ¥ç—…åŸä½“çš„ä¸æ˜åŸå› ç—…ä¾‹ï¼Œä»¥ä¾¿åŠæ—¶å‘ç°å’Œåº”å¯¹æ–°å‘ä¼ æŸ“ç—…ã€‚

**è§’è‰²ï¼š** ç–¾æ§ä¸šåŠ¡äººå‘˜

**å‰ç½®æ¡ä»¶ï¼š**

- ç”¨æˆ·å·²ç™»å½•
- å‘ç°ç–‘ä¼¼æ–°å‘ä¼ æŸ“ç—…ç—…ä¾‹

**è§¦å‘æ¡ä»¶ï¼š**

- æ‚£è€…ç—‡çŠ¶ä¸ç¬¦åˆå·²çŸ¥ç–¾ç—…
- å¸¸è§„æ£€æµ‹æ— æ³•ç¡®è¯Š
- å‡ºç°å¼‚å¸¸ä¸´åºŠè¡¨ç°

**é¢„æœŸç»“æœï¼š**

- åˆ›å»ºä¸æ˜åŸå› ç—…ä¾‹è®°å½•
- è®°å½•ä¸´åºŠç—‡çŠ¶å’Œç–‘ä¼¼ç—…åŸä½“
- å¯ä¸ŠæŠ¥åº”æ€¥å“åº”ç³»ç»Ÿå’Œæµè°ƒç³»ç»Ÿ

**éªŒæ”¶æ ‡å‡†ï¼š**

1. è‡ªåŠ¨ç”Ÿæˆä¸æ˜åŸå› ç—…ä¾‹ç¼–å·ï¼ˆunknownCaseNoï¼‰
2. å¿…å¡«å­—æ®µï¼šæ‚£è€…åŸºæœ¬ä¿¡æ¯ã€ç—‡çŠ¶èµ·å§‹æ—¥æœŸã€ä¸´åºŠç—‡çŠ¶
3. ç—…ä¾‹çŠ¶æ€ï¼šå¾…æ£€æµ‹/æ£€æµ‹ä¸­/å·²ç¡®è¯Š/æ’é™¤
4. è®°å½•ç–‘ä¼¼ç—…åŸä½“ä¿¡æ¯
5. æ”¯æŒä¸ŠæŠ¥åº”æ€¥æŒ‡æŒ¥ç³»ç»Ÿ
6. æ”¯æŒæ¨é€æµè°ƒç³»ç»Ÿ
7. ç¡®è¯Šåå¯è½¬å…¥ä¸ªæ¡ˆç®¡ç†ï¼ˆUC10ï¼‰

---

#### US-4.2 å½•å…¥ä¸æ˜åŸå› ç—…ä¾‹æ£€æµ‹ä¿¡æ¯

**ç”¨æˆ·æ•…äº‹ï¼š**
ä½œä¸ºä¸€åç–¾æ§ä¸šåŠ¡äººå‘˜ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿå½•å…¥ä¸æ˜åŸå› ç—…ä¾‹çš„å®éªŒå®¤æ£€æµ‹ä¿¡æ¯ï¼Œä»¥ä¾¿ç¡®è®¤ç—…åŸä½“å’Œç–¾ç—…ç±»å‹ã€‚

**è§’è‰²ï¼š** ç–¾æ§ä¸šåŠ¡äººå‘˜

**å‰ç½®æ¡ä»¶ï¼š**

- ä¸æ˜åŸå› ç—…ä¾‹è®°å½•å·²å­˜åœ¨
- æ ·æœ¬å·²é€æ£€

**è§¦å‘æ¡ä»¶ï¼š**

- æ”¶åˆ°å®éªŒå®¤æ£€æµ‹ç»“æœ
- éœ€è¦è¡¥å……æ£€æµ‹ä¿¡æ¯

**é¢„æœŸç»“æœï¼š**

- è®°å½•æ£€æµ‹ä¿¡æ¯
- æ›´æ–°ç—…ä¾‹çŠ¶æ€
- ç¡®è¯Šåè§¦å‘ç—…ä¾‹æ¨é€æµç¨‹

**éªŒæ”¶æ ‡å‡†ï¼š**

1. å½“å‰ç‰ˆæœ¬æ”¯æŒæ‰‹å·¥å½•å…¥
2. é¢„ç•™å®éªŒå®¤ç³»ç»Ÿæ¥å£
3. æ£€æµ‹ç»“æœä¸º"é˜³æ€§"ä¸”ç¡®è®¤ç—…åŸä½“æ—¶ï¼Œæ›´æ–°çŠ¶æ€ä¸º"å·²ç¡®è¯Š"
4. æ£€æµ‹ç»“æœä¸º"é˜´æ€§"æ—¶ï¼Œå¯æ›´æ–°çŠ¶æ€ä¸º"æ’é™¤"
5. è®°å½•ç¡®è¯Šç–¾ç—…åç§°
6. è‡ªåŠ¨è§¦å‘æ•°æ®æ ¡éªŒï¼ˆæ£€æŸ¥é‡å¤ç—…ä¾‹ï¼‰

---

#### US-4.3 æ¨é€ç¡®è¯Šç—…ä¾‹è‡³ä¸ªæ¡ˆç®¡ç†

**ç”¨æˆ·æ•…äº‹ï¼š**
ä½œä¸ºä¸€åç–¾æ§ä¸šåŠ¡äººå‘˜ï¼Œå½“ä¸æ˜åŸå› ç—…ä¾‹ç¡®è¯Šåï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿå°†å…¶æ¨é€è‡³ä¸ªæ¡ˆç®¡ç†æ¨¡å—ï¼Œä»¥ä¾¿è¿›è¡Œæ ‡å‡†åŒ–çš„ç—…ä¾‹ç®¡ç†ã€‚

**è§’è‰²ï¼š** ç–¾æ§ä¸šåŠ¡äººå‘˜

**å‰ç½®æ¡ä»¶ï¼š**

- ä¸æ˜åŸå› ç—…ä¾‹çŠ¶æ€ä¸º"å·²ç¡®è¯Š"
- å·²ç¡®è®¤ç—…åŸä½“å’Œç–¾ç—…ç±»å‹
- æ•°æ®æ ¡éªŒé€šè¿‡ï¼ˆæ— é‡å¤ç—…ä¾‹ï¼‰

**è§¦å‘æ¡ä»¶ï¼š**

- ç”¨æˆ·ç‚¹å‡»"ç—…ä¾‹æ¨é€"æŒ‰é’®

**é¢„æœŸç»“æœï¼š**

- è‡ªåŠ¨ç”Ÿæˆä¸ªæ¡ˆè®°å½•
- æ•°æ®ä»UnknownCaseæ˜ å°„åˆ°Case
- åŒæ­¥æ¨é€è‡³åº”æ€¥ç³»ç»Ÿå’Œæµè°ƒç³»ç»Ÿ
- æ›´æ–°ä¸æ˜åŸå› ç—…ä¾‹çŠ¶æ€ä¸º"å·²æ¨é€"

**éªŒæ”¶æ ‡å‡†ï¼š**

1. æ•°æ®æ˜ å°„å®Œæ•´ï¼ˆæ‚£è€…ä¿¡æ¯ã€æ£€æµ‹ç»“æœï¼‰
2. ä¸ªæ¡ˆæ¥æºæ ‡è¯†ä¸º"ä¸æ˜åŸå› è½¬å…¥"
3. ç”Ÿæˆæ–°çš„caseNo
4. å¤åˆ¶æ£€æµ‹è®°å½•åˆ°Caseå…³è”è¡¨
5. æ¨é€è‡³åº”æ€¥æŒ‡æŒ¥ç³»ç»ŸæˆåŠŸ
6. æ¨é€è‡³æµè°ƒç³»ç»ŸæˆåŠŸ
7. è®°å½•æ¨é€æ—¥å¿—
8. äº‹åŠ¡å®Œæ•´æ€§ï¼ˆå¤±è´¥æ—¶å›æ»šï¼‰

---

ä¸‰ï¼šä½ä¿çœŸåŸå‹
### WF-4.4 æ–°å¢ä¸ªæ¡ˆè¡¨å•é¡µ

#### çº¿æ¡†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Logo] æ–°å‘ä¼ æŸ“ç—…ç›‘æµ‹ç®¡ç†ç³»ç»Ÿ                                           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ é¦–é¡µ | ä¸ªæ¡ˆç®¡ç† | ä¸æ˜åŸå› ç–¾ç—… | é¢„è­¦ç®¡ç† | ç»Ÿè®¡åˆ†æ | åŸºç¡€æ•°æ®         â”‚
â”‚                                              [æœç´¢æ¡†]  [ğŸ””3]  [ç”¨æˆ·â–¼]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚ é¦–é¡µ > ä¸ªæ¡ˆç®¡ç† > æ–°å¢ä¸ªæ¡ˆ                                 â”‚
â”‚  ä¸ªæ¡ˆç®¡ç†    â”‚                                                           â”‚
â”‚  ä¸æ˜åŸå›     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  é¢„è­¦ç®¡ç†    â”‚ â”‚           æ–°å¢ä¸ªæ¡ˆè°ƒæŸ¥è¡¨                               â”‚ â”‚
â”‚  ç»Ÿè®¡åˆ†æ    â”‚ â”‚                                                       â”‚ â”‚
â”‚  åŸºç¡€æ•°æ®    â”‚ â”‚ [ğŸ’¾ ä¿å­˜è‰ç¨¿] [âœ… æäº¤] [âŒ å–æ¶ˆ]                      â”‚ â”‚
â”‚  ç³»ç»Ÿç®¡ç†    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                           â”‚
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚             â”‚ â”‚ æ­¥éª¤è¿›åº¦: â— â”â”â” â—‹ â”â”â” â—‹ â”â”â” â—‹                        â”‚ â”‚
â”‚             â”‚ â”‚         åŸºæœ¬ä¿¡æ¯  æµè¡Œç—…å­¦  è¯Šæ–­ä¿¡æ¯  ç¡®è®¤æäº¤         â”‚ â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                           â”‚
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚             â”‚ â”‚ ç¬¬ä¸€æ­¥: æ‚£è€…åŸºæœ¬ä¿¡æ¯ (P0)                             â”‚ â”‚
â”‚             â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ ç–¾ç—…ç±»å‹ * [è¯·é€‰æ‹©ç–¾ç—… â–¼]                             â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ æ‚£è€…å§“å * [__________]  æ€§åˆ« * (â€¢) ç”·  ( ) å¥³        â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ èº«ä»½è¯å· * [__________________]  [éªŒè¯]               â”‚ â”‚
â”‚             â”‚ â”‚            â„¹ï¸ ç³»ç»Ÿå°†è‡ªåŠ¨æ£€æµ‹é‡å¤ç—…ä¾‹                  â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ å‡ºç”Ÿæ—¥æœŸ   [____-__-__]      å¹´é¾„   [__] å²           â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ è”ç³»ç”µè¯ * [___________]                              â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ ç°ä½åœ°å€ * [çœ/ç›´è¾–å¸‚ â–¼] [å¸‚ â–¼] [åŒº/å¿ â–¼]            â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ è¯¦ç»†åœ°å€ * [_________________________________]        â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ æŠ¥å‘Šå•ä½ * [åŒ—äº¬å¸‚æœé˜³åŒºç–¾æ§ä¸­å¿ƒ]  (è‡ªåŠ¨å¡«å……)         â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ æŠ¥å‘Šäººå‘˜ * [æåŒ»ç”Ÿ]  (å½“å‰ç”¨æˆ·)                       â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ æŠ¥å‘Šæ—¥æœŸ * [2024-01-15]  (ä»Šæ—¥)                       â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ ç—‡çŠ¶å¼€å§‹æ—¥æœŸ * [____-__-__]  æ—¶é—´ [__:__]             â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                           â”‚
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚             â”‚ â”‚                         [ä¸Šä¸€æ­¥] [ä¸‹ä¸€æ­¥: æµè¡Œç—…å­¦ä¿¡æ¯]â”‚ â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç¬¬äºŒæ­¥ï¼šæµè¡Œç—…å­¦ä¿¡æ¯

```
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚             â”‚ â”‚ æ­¥éª¤è¿›åº¦: â— â”â”â” â— â”â”â” â—‹ â”â”â” â—‹                        â”‚ â”‚
â”‚             â”‚ â”‚         åŸºæœ¬ä¿¡æ¯  æµè¡Œç—…å­¦  è¯Šæ–­ä¿¡æ¯  ç¡®è®¤æäº¤         â”‚ â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                           â”‚
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚             â”‚ â”‚ ç¬¬äºŒæ­¥: æµè¡Œç—…å­¦ä¿¡æ¯ (P0)                             â”‚ â”‚
â”‚             â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ æš´éœ²å²                                                â”‚ â”‚
â”‚             â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ æ˜¯å¦æœ‰ç–«åŒºæš´éœ²å²? ( ) æ˜¯  (â€¢) å¦                  â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚                                                   â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ æš´éœ²è¯¦æƒ…:                                         â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ [_______________________________________________] â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ [_______________________________________________] â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ [_______________________________________________] â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ æ¥è§¦å²                                                â”‚ â”‚
â”‚             â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ æ˜¯å¦æœ‰ç¡®è¯Š/ç–‘ä¼¼ç—…ä¾‹æ¥è§¦å²? ( ) æ˜¯  (â€¢) å¦         â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚                                                   â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ æ¥è§¦æ—¶é—´: [____-__-__]  æ¥è§¦åœ°ç‚¹: [___________]  â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚                                                   â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ æ¥è§¦è¯¦æƒ…:                                         â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ [_______________________________________________] â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ [_______________________________________________] â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â”‚ æ—…è¡Œå²                                                â”‚ â”‚
â”‚             â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ è¿‘14å¤©æ˜¯å¦æœ‰å¤–å‡ºæ—…è¡Œ? ( ) æ˜¯  (â€¢) å¦              â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚                                                   â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ å‡ºå‘æ—¶é—´: [____-__-__]  è¿”å›æ—¶é—´: [____-__-__]   â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚                                                   â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ ç›®çš„åœ°: [çœ/å¸‚ â–¼] [å¸‚/å¿ â–¼]                      â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚                                                   â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ æ—…è¡Œè¯¦æƒ…:                                         â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â”‚ [_______________________________________________] â”‚ â”‚ â”‚
â”‚             â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚             â”‚ â”‚                                                       â”‚ â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                           â”‚
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚             â”‚ â”‚              [ä¸Šä¸€æ­¥: åŸºæœ¬ä¿¡æ¯] [ä¸‹ä¸€æ­¥: è¯Šæ–­ä¿¡æ¯]     â”‚ â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
```

#### é¡µé¢è¯´æ˜

**è¡¨å•è®¾è®¡åŸåˆ™ï¼š**

- åˆ†æ­¥å¡«å†™ï¼Œé™ä½è®¤çŸ¥è´Ÿæ‹…
- å¿…å¡«å­—æ®µæ ‡æ³¨ *
- å®æ—¶éªŒè¯ï¼Œå³æ—¶åé¦ˆ
- æ™ºèƒ½è”åŠ¨ï¼ˆå¦‚èº«ä»½è¯è‡ªåŠ¨å¡«å……å¹´é¾„ï¼‰

**æ­¥éª¤åˆ’åˆ†ï¼š**

1. **åŸºæœ¬ä¿¡æ¯**ï¼šæ‚£è€…åŸºæœ¬ä¿¡æ¯ + æŠ¥å‘Šä¿¡æ¯
2. **æµè¡Œç—…å­¦ä¿¡æ¯**ï¼šæš´éœ²å²ã€æ¥è§¦å²ã€æ—…è¡Œå²
3. **è¯Šæ–­ä¿¡æ¯**ï¼šåˆæ­¥è¯Šæ–­ã€ç—‡çŠ¶æè¿°
4. **ç¡®è®¤æäº¤**ï¼šä¿¡æ¯é¢„è§ˆ + æœ€ç»ˆæäº¤

**äº¤äº’è¯´æ˜ï¼š**

- æ”¯æŒä¿å­˜è‰ç¨¿ï¼ˆè‡ªåŠ¨ä¿å­˜ï¼‰
- ä¸Šä¸€æ­¥/ä¸‹ä¸€æ­¥å¯¼èˆª
- éªŒè¯å¤±è´¥é˜»æ­¢ä¸‹ä¸€æ­¥
- å–æ¶ˆæ“ä½œäºŒæ¬¡ç¡®è®¤

---

å››ï¼šAPIå­—æ®µ
API Contract 4 â€“ New Case Form (WF-4.4)
1. Page Description
Creates a new confirmed-disease case in Program PrgCaseMgt1. The multi-step form captures: Program attributes (disease type, patient demographics, report org/date, symptom onset, diagnosis date, case source) and Investigation stage data (exposure/contact/travel narratives). It supports TEI search/creation (by unique national ID), enrollment creation, auto-generated case number, and an initial non-repeatable Investigation stage event. Draft/save and final submit both persist via Tracker importer.

2. Required DHIS2 APIs
#	Endpoint	Method	Description	Key Parameters	Expected Response / Data Type
1	/api/programs/PrgCaseMgt1	GET	Load program metadata (attributes, stages, option sets) to render steps	fields=id,name,trackedEntityType[id],programTrackedEntityAttributes[mandatory,trackedEntityAttribute[id,name,valueType,optionSet[id,name,options[id,code,name]]]],programStages[id,name,repeatable,sortOrder,programStageDataElements[dataElement[id,name,valueType,optionSet[id,name,options[id,code,name]]]]]	Program
2	/api/optionSets/{id}	GET	Load option sets if not fully included by API-01	fields=id,name,options[id,code,name]	OptionSet
3	/api/tracker/trackedEntities	GET	Search existing person by unique attribute (AtrNatnlId1) to prevent duplicates; also prefill demographics	trackedEntityType=TetPerson01&orgUnits={ouId}&orgUnitMode=DESCENDANTS&filter=AtrNatnlId1:eq:{nationalId}&fields=trackedEntity,trackedEntityType,orgUnit,attributes[attribute,value]&page=1&pageSize=50	{ pager, trackedEntities[] }
4	/api/tracker/trackedEntities	GET	Optional person search by name/phone for assisted find	trackedEntityType=TetPerson01&orgUnits={ouId}&orgUnitMode=DESCENDANTS&filter=AtrFullNm01:ilike:{name},AtrPhone001:ilike:{phone}&page=1&pageSize=50&fields=trackedEntity,orgUnit,attributes[attribute,value]	{ pager, trackedEntities[] }
5	/api/tracker	POST	CREATE flow: create TEI + enrollment + initial Investigation event in one nested payload	importStrategy=CREATE&atomicMode=OBJECT	Import summary with created uids
6	/api/tracker	POST	UPDATE flow: add enrollment and Investigation event for an existing TEI	importStrategy=CREATE_AND_UPDATE&atomicMode=OBJECT	Import summary with created enrollment/event
7	/api/tracker	POST	SAVE DRAFT: create incomplete TEI/enrollment or update attributes/event values during step navigation	importStrategy=CREATE_AND_UPDATE&atomicMode=OBJECT	Import summary
8	/api/tracker	POST	UPDATE attributes for TEI (e.g., diagnosis date correction)	importStrategy=UPDATE&atomicMode=OBJECT with trackedEntities[]	Import summary
9	/api/tracker	POST	UPDATE enrollment program attributes (if any configured at enrollment level)	importStrategy=UPDATE&atomicMode=OBJECT with enrollments[] attributes[]	Import summary
10	/api/tracker	POST	UPDATE Investigation stage event data values (exposure/contact/travel; case status)	importStrategy=UPDATE&atomicMode=OBJECT with events[]	Import summary
11	/api/me	GET	Get current user info to default reporting org unit	fields=organisationUnits[id,name]	User
12	/api/organisationUnits	GET	Resolve selectable org units for Report Org field (capture scope)	filter=path:like:{rootOuId}&fields=id,name,level,parent[id]&paging=false	OrgUnits list
13	/api/tracker/trackedEntities/{teiUid}	GET	Load created TEI confirmation summary after submit	program=PrgCaseMgt1&fields=trackedEntity,attributes[attribute,value],enrollments[enrollment,program,status,orgUnit,enrolledAt,events[event,programStage,occurredAt,status]]	TrackedEntity aggregate
3. Notes
Metadata dependencies:
Program PrgCaseMgt1; TrackedEntityType TetPerson01.
Program attributes used by the form: AtrCaseNo01 (auto-generated), AtrDiseaCd1 (OsDiseasCd1), AtrRptOrg01 (OU), AtrRptDt001 (DATE), AtrSymptDt1 (DATE), AtrDiagDt01 (DATE), AtrCaseSrc1 (OsCaseSrc01), plus demographics AtrFullNm01, AtrNatnlId1 (unique), AtrGender01 (OsGender001), AtrAge00001, AtrPhone001, AtrAddr0001.
Investigation (PsInvestig1) data elements: DeCaseStat1 (OsCaseStat1), DeExposHst1, DeContHst01, DeTravHst01, optional DePushEpi01/DePushEpiDt.
Process:
Step 1: Person search (API-3/4). If found, choose existing TEI; else create new.
Step 2: Capture program attributes; Step 3: Epidemiology narratives (Investigation stage elements).
Submit: Use nested payload (API-5) when TEI is new; or API-6/7 when TEI exists.
Tracker importer rules:
For UPDATE, include non-collection fields for objects in events/enrollments (event, programStage, enrollment, orgUnit, occurredAt, status) when changing dataValues.
Generated attributes: AtrCaseNo01 is generated server-side if using attribute with pattern; do not set value in client unless pre-generated via reserved values endpoints (not required here).
Access/ownership:
Program accessLevel=PROTECTED; the owning OU must be within user capture scope. Use orgUnitMode properly in searches. Authority F_TRACKED_ENTITY_INSTANCE_SEARCH required for search.
Case status:
Case status is stored as Investigation stage data element DeCaseStat1; program rules will transition based on subsequent stages.
4. Example Request & Response
API-03: æŒ‰èº«ä»½è¯å·æŸ¥è¯¢æ˜¯å¦å·²å­˜åœ¨äººå‘˜ï¼ˆé˜²é‡ï¼‰

è¯·æ±‚: GET /api/tracker/trackedEntities?trackedEntityType=TetPerson01&orgUnits=OuChengdu01&orgUnitMode=DESCENDANTS&filter=AtrNatnlId1:eq:110101197901011234&fields=trackedEntity,trackedEntityType,orgUnit,attributes[attribute,value]&page=1&pageSize=50

å“åº”: { "pager": { "page": 1, "pageSize": 50, "total": 1, "pageCount": 1 }, "trackedEntities": [ { "trackedEntity": "PQfMcpmXeFE", "trackedEntityType": "TetPerson01", "orgUnit": "OuChengdu01", "attributes": [ { "attribute": "AtrFullNm01", "value": "å¼ ä¸‰" }, { "attribute": "AtrNatnlId1", "value": "110101197901011234" }, { "attribute": "AtrGender01", "value": "MALE" } ] } ] }

API-05: æ–°å¢ä¸ªæ¡ˆï¼ˆæ–°å»ºTEI + Enrollment + è°ƒæŸ¥äº‹ä»¶ï¼‰

è¯·æ±‚: POST /api/tracker?importStrategy=CREATE&atomicMode=OBJECT Content-Type: application/json

{ "trackedEntities": [ { "orgUnit": "OuChengdu01", "trackedEntityType": "TetPerson01", "attributes": [ { "attribute": "AtrFullNm01", "value": "å¼ ä¸‰" }, { "attribute": "AtrNatnlId1", "value": "110101197901011234" }, { "attribute": "AtrGender01", "value": "MALE" }, { "attribute": "AtrAge00001", "value": "45" }, { "attribute": "AtrPhone001", "value": "13800000000" }, { "attribute": "AtrAddr0001", "value": "åŒ—äº¬å¸‚æœé˜³åŒºXXè¡—é“XXå·" } ], "enrollments": [ { "program": "PrgCaseMgt1", "orgUnit": "OuChengdu01", "status": "ACTIVE", "enrolledAt": "2024-01-15T00:00:00.000", "occurredAt": "2024-01-10T00:00:00.000", "attributes": [ { "attribute": "AtrCaseNo01", "value": "" }, { "attribute": "AtrDiseaCd1", "value": "OptDiseaB30" }, { "attribute": "AtrRptOrg01", "value": "OuChengdu01" }, { "attribute": "AtrRptDt001", "value": "2024-01-15" }, { "attribute": "AtrSymptDt1", "value": "2024-01-10" }, { "attribute": "AtrDiagDt01", "value": "2024-01-14" }, { "attribute": "AtrCaseSrc1", "value": "ACTIVE_SURVEILLANCE" } ], "events": [ { "program": "PrgCaseMgt1", "programStage": "PsInvestig1", "orgUnit": "OuChengdu01", "status": "ACTIVE", "occurredAt": "2024-01-15T14:30:00.000", "dataValues": [ { "dataElement": "DeCaseStat1", "value": "NEW" }, { "dataElement": "DeExposHst1", "value": "è¿‘14å¤©æœ‰ç–«åŒºæ—…å±…å²" }, { "dataElement": "DeContHst01", "value": "æ¥è§¦ç¡®è¯Šç—…ä¾‹" }, { "dataElement": "DeTravHst01", "value": "1æœˆ1æ—¥è‡³1æœˆ7æ—¥å‰å¾€XXçœXXå¸‚" } ] } ] } ] } ] }

å“åº”: { "status": "OK", "stats": { "created": 3, "updated": 0, "deleted": 0, "ignored": 0, "total": 3 }, "bundleReport": { "typeReportMap": { "TRACKED_ENTITY": { "stats": { "created": 1, "total": 1 }, "objectReports": [ { "uid": "Kj6vYde4LHh" } ] }, "ENROLLMENT": { "stats": { "created": 1, "total": 1 }, "objectReports": [ { "uid": "MNWZ6hnuhSw" } ] }, "EVENT": { "stats": { "created": 1, "total": 1 }, "objectReports": [ { "uid": "evtInvestig01" } ] } } } }

API-06: å·²æœ‰äººå‘˜ï¼Œåˆ›å»ºEnrollmentä¸è°ƒæŸ¥äº‹ä»¶ã€‚å½“ä½¿ç”¨ CREATE_AND_UPDATE ç­–ç•¥æ—¶ï¼Œå¦‚æœ enrollment æ˜¯æ–°å»ºçš„ï¼Œä¸åº”æä¾› enrollment UIDï¼ˆåº”ç”±æœåŠ¡å™¨ç”Ÿæˆï¼‰ã€‚

è¯·æ±‚: POST /api/tracker?importStrategy=CREATE_AND_UPDATE&atomicMode=OBJECT Content-Type: application/json

{ "enrollments": [ { "program": "PrgCaseMgt1", "trackedEntity": "PQfMcpmXeFE", "orgUnit": "OuChengdu01", "status": "ACTIVE", "enrolledAt": "2024-01-15T00:00:00.000", "occurredAt": "2024-01-10T00:00:00.000", "attributes": [ { "attribute": "AtrDiseaCd1", "value": "OptDiseaB30" }, { "attribute": "AtrRptOrg01", "value": "OuChengdu01" }, { "attribute": "AtrRptDt001", "value": "2024-01-15" }, { "attribute": "AtrSymptDt1", "value": "2024-01-10" }, { "attribute": "AtrDiagDt01", "value": "2024-01-14" }, { "attribute": "AtrCaseSrc1", "value": "ACTIVE_SURVEILLANCE" } ], "events": [ { "program": "PrgCaseMgt1", "programStage": "PsInvestig1", "orgUnit": "OuChengdu01", "status": "ACTIVE", "occurredAt": "2024-01-15T14:30:00.000", "dataValues": [ { "dataElement": "DeCaseStat1", "value": "NEW" }, { "dataElement": "DeExposHst1", "value": "è¿‘14å¤©æœ‰ç–«åŒºæ—…å±…å²" } ] } ] } ] }

å“åº”: { "status": "OK", "stats": { "created": 2, "updated": 0, "deleted": 0, "ignored": 0, "total": 2 } }

æ³¨æ„ï¼šAtrCaseNo01 ä½¿ç”¨ generated=true é…ç½®ï¼Œæ— éœ€åœ¨è¯·æ±‚ä¸­ä¼ é€’ç©ºå­—ç¬¦ä¸²ã€‚

API-10: æ›´æ–°è°ƒæŸ¥äº‹ä»¶ï¼ˆä¿å­˜è‰ç¨¿/ä¿®æ”¹ï¼‰

è¯·æ±‚: POST /api/tracker?importStrategy=UPDATE&atomicMode=OBJECT Content-Type: application/json

{ "events": [ { "event": "evtInvestig01", "program": "PrgCaseMgt1", "programStage": "PsInvestig1", "enrollment": "MNWZ6hnuhSw", "orgUnit": "OuChengdu01", "status": "ACTIVE", "occurredAt": "2024-01-15T14:30:00.000", "dataValues": [ { "dataElement": "DeCaseStat1", "value": "VERIFIED" }, { "dataElement": "DeTravHst01", "value": "è¡¥å……ï¼š1æœˆ3æ—¥ç»åœXXå¸‚" } ] } ] }

å“åº”: { "status": "OK", "stats": { "created": 0, "updated": 1, "deleted": 0, "ignored": 0, "total": 1 } }

API-13: æäº¤æˆåŠŸåå›æ˜¾ä¸ªæ¡ˆæ‘˜è¦

è¯·æ±‚: GET /api/tracker/trackedEntities/Kj6vYde4LHh?program=PrgCaseMgt1&fields=trackedEntity,attributes[attribute,value],enrollments[enrollment,program,status,orgUnit,enrolledAt,events[event,programStage,occurredAt,status]]

å“åº”: { "trackedEntity": "Kj6vYde4LHh", "attributes": [ { "attribute": "AtrFullNm01", "value": "å¼ ä¸‰" }, { "attribute": "AtrNatnlId1", "value": "110101197901011234" } ], "enrollments": [ { "enrollment": "MNWZ6hnuhSw", "program": "PrgCaseMgt1", "status": "ACTIVE", "orgUnit": "OuChengdu01", "enrolledAt": "2024-01-15T00:00:00.000", "events": [ { "event": "evtInvestig01", "programStage": "PsInvestig1", "occurredAt": "2024-01-15T14:30:00.000", "status": "ACTIVE" } ] } ] }